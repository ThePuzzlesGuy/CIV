<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CivDex Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-neutral-950 text-neutral-100">
  <main class="max-w-6xl mx-auto p-6 space-y-6">
    <h1 class="text-2xl font-bold">CivDex Admin</h1>

    <section class="p-4 rounded-2xl border border-neutral-800">
      <h2 class="font-semibold mb-2">Admin Key</h2>
      <div class="flex gap-2">
        <input id="adminKey" class="flex-1 px-3 py-2 rounded-lg bg-neutral-900 border border-neutral-800" placeholder="x-admin-key" />
        <button id="saveKey" class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700">Save</button>
      </div>
      <p class="text-xs text-neutral-400 mt-2">Stored locally in your browser.</p>
    </section>

    <section class="p-4 rounded-2xl border border-neutral-800">
      <h2 class="font-semibold mb-3">Add / Edit Faction</h2>
      <form id="factionForm" class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <input name="id" type="hidden" />
        <input name="name" placeholder="Name" class="px-3 py-2 rounded-lg bg-neutral-900 border border-neutral-800" required />
        <input name="size_note" placeholder="Size / notes" class="px-3 py-2 rounded-lg bg-neutral-900 border border-neutral-800" />
        <input name="tags" placeholder="Tags (comma-separated)" class="px-3 py-2 rounded-lg bg-neutral-900 border border-neutral-800" />
        <textarea name="description" placeholder="Description" class="md:col-span-2 min-h-[100px] px-3 py-2 rounded-lg bg-neutral-900 border border-neutral-800"></textarea>
        <div class="md:col-span-2 flex gap-2">
          <button class="px-3 py-2 rounded-lg bg-green-700 hover:bg-green-600" type="submit">Save</button>
          <button id="resetForm" class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700" type="button">Reset</button>
          <button id="deleteFaction" class="px-3 py-2 rounded-lg bg-red-700 hover:bg-red-600 hidden" type="button">Delete</button>
        </div>
      </form>
    </section>

    <section class="p-4 rounded-2xl border border-neutral-800">
      <h2 class="font-semibold mb-3">Factions</h2>
      <div id="factionList" class="grid grid-cols-1 md:grid-cols-2 gap-3"></div>
    </section>

    <section class="p-4 rounded-2xl border border-neutral-800">
      <h2 class="font-semibold mb-3">Members of <span id="membersTitle" class="opacity-70">â€”</span></h2>
      <form id="memberForm" class="grid grid-cols-1 md:grid-cols-4 gap-3">
        <input name="faction_id" type="hidden" />
        <input name="name" placeholder="Member name" class="px-3 py-2 rounded-lg bg-neutral-900 border border-neutral-800 md:col-span-2" />
        <label class="flex items-center gap-2">
          <input name="is_leader" type="checkbox" class="scale-125" />
          Leader
        </label>
        <button class="px-3 py-2 rounded-lg bg-green-700 hover:bg-green-600" type="submit">Add</button>
      </form>
      <ul id="memberList" class="mt-3 divide-y divide-neutral-800"></ul>
      <div class="mt-6">
        <button id="seedBtn" class="px-3 py-2 rounded-lg bg-neutral-800 hover:bg-neutral-700">Seed starter data</button>
      </div>
    </section>
  </main>

  <script src="/admin.js"></script>
</body>
</html>
